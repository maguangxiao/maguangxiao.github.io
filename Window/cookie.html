<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>cookie测试</title>
    <link rel="stylesheet" type="text/css" href="../css/app.css">
    <script type="text/javascript">
      function setTestCookie(name,value)
        {
            var Days = 30;
            var exp = new Date();
            exp.setTime(exp.getTime() + Days*24*60*60*1000);
            document.cookie = 'user=guangxiao' + ";expires=" + exp.toGMTString();
            document.cookie = 'pwd=123456'+ ";expires=" + exp.toGMTString();
            // document.cookie = 'HIT_SID=129950; expires=Thu, 19-Apr-2019 09:37:54 GMT; path=/; domain=.baidu.com'
            document.cookie = 'HIT_SID_TEST=129950; path=/; domain=maguangxiao.github.io'
            // document.cookie = 'HIT_SID_TEST=129950; path=/; domain=.baidu.com'
            // document.cookie = 'H_WISE_SIDS=129950_100458; expires=Thu, 19-Apr-2019 09:37:54 GMT; path=/; domain=maguangxiao.github.io';

            var cookie = name + "="+ escape (value) + ";expires=" + exp.toGMTString();
            console.log(cookie);
            document.cookie = cookie;
            console.log(cookie);
        }

        function setTCookie(){
          document.cookie = 'HIT_SID=129950; expires=Thu, 18-Apr-2019 09:37:54 GMT; path=/; domain=.baidu.com';
          document.cookie = 'H_WISE_SIDS=129950_100458; expires=Thu, 18-Apr-2019 09:37:54 GMT; path=/; domain=.baidu.com';
        }

        //读取cookies
        function getTestCookie(cname)
        {
          var name = cname + "=";
          console.log(document.cookie);
          var ca = document.cookie.split(';');
          for(var i=0; i<ca.length; i++)
          {
            var c = ca[i].trim();
            if (c.indexOf(name)==0){
              var targetCookie = c.substring(name.length,c.length);
              document.getElementById('cookieGetExample').innerHTML = name + ':' + targetCookie + '\n' + 'document.cookie:' + document.cookie;
              return targetCookie;
            }
          }
          return "";
        }

        function clearAllCookie() {
  				var keys = document.cookie.match(/[^ =;]+(?=\=)/g);
  				if(keys) {
  					for(var i = keys.length; i--;)
  						document.cookie = keys[i] + '=0;expires=' + new Date(0).toGMTString()
  				}
        }

        //删除cookies
        function delTestCookie(name)
        {
            var exp = new Date();
            exp.setTime(exp.getTime() - 1);
            var cval=getTestCookie(name);
            if(cval!=null){
              document.cookie= name + "="+cval+";expires="+exp.toGMTString();
            }
            var tempCookie = document.cookie;
            clearAllCookie();
            document.getElementById('cookieDelExample').innerHTML = 'document.cookie:' + tempCookie + ';' + '\n' + 'nowCookie:' + document.cookie;
        }



    </script>
  </head>
  <body>
    <div class="" onclick="setTestCookie('test','testCookieValue')">
      写入Cookie
    </div>

    <div id="cookieGetExample" onclick="getTestCookie('test')">
      获取cookie
    </div>

    <div id="cookieDelExample" onclick="delTestCookie('test')">
      删除cookie
    </div>


  </body>
</html>
