<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>cookie测试</title>
    <link rel="stylesheet" type="text/css" href="../css/app.css">
    <script type="text/javascript">
      function setTestCookie(name,value)
        {
            var Days = 30;
            var exp = new Date();
            exp.setTime(exp.getTime() + Days*24*60*60*1000);
            document.cookie = 'user=guangxiao' + ";expires=" + exp.toGMTString();
            document.cookie = 'pwd=123456'+ ";expires=" + exp.toGMTString();
            // document.cookie = 'HIT_SID=129950; expires=Thu, 19-Apr-2019 09:37:54 GMT; path=/; domain=.baidu.com'
            // document.cookie = 'HIT_SID_TEST=129950; path=/;'
            // document.cookie = 'HIT_SID_TEST=129950; path=/; domain=.baidu.com'
            // document.cookie = 'H_WISE_SIDS=129950_100458; expires=Thu, 19-Apr-2019 09:37:54 GMT; path=/; domain=maguangxiao.github.io';

            // var cookie = name + "="+ escape (value) + ";expires=" + exp.toGMTString();
            // console.log(cookie);
            // document.cookie = cookie;
            // console.log(cookie);
        }

        function setTCookie(){
          document.cookie = 'HIT_SID=129950; expires=Thu, 18-Apr-2019 09:37:54 GMT; path=/; domain=.baidu.com';
          document.cookie = 'H_WISE_SIDS=129950_100458; expires=Thu, 18-Apr-2019 09:37:54 GMT; path=/; domain=.baidu.com';
        }

        //读取cookies
        function getTestCookie(cname)
        {
          var name = cname + "=";
          console.log(document.cookie);
          var ca = document.cookie.split(';');
          for(var i=0; i<ca.length; i++)
          {
            var c = ca[i].trim();
            if (c.indexOf(name)==0){
              var targetCookie = c.substring(name.length,c.length);
              document.getElementById('cookieGetExample').innerHTML = name + ':' + targetCookie + '\n' + 'document.cookie:' + document.cookie;
              return targetCookie;
            }
          }
          return "";
        }

        function clearAllCookie() {
  				var keys = document.cookie.match(/[^ =;]+(?=\=)/g);
  				if(keys) {
  					for(var i = keys.length; i--;)
  						document.cookie = keys[i] + '=0;expires=' + new Date(0).toGMTString()
  				}
        }

        //删除cookies
        function delTestCookie(name)
        {
            var exp = new Date();
            exp.setTime(exp.getTime() - 1);
            var cval=getTestCookie(name);
            if(cval!=null){
              document.cookie= name + "="+cval+";expires="+exp.toGMTString();
            }
            var tempCookie = document.cookie;
            clearAllCookie();
            document.getElementById('cookieDelExample').innerHTML = 'document.cookie:' + tempCookie + ';' + '\n' + 'nowCookie:' + document.cookie;
        }



    </script>
  </head>
  <body>
    <div class="" onclick="setTestCookie('test','testCookieValue')">
      写入Cookie
    </div>

    <div id="cookieGetExample" onclick="getTestCookie('test')">
      获取cookie
    </div>

    <div id="cookieDelExample" onclick="delTestCookie('test')">
      删除cookie
    </div>
    @method initWithProperties:
    @abstract Initialize a NSHTTPCookie object with a dictionary of
    parameters
    @param properties The dictionary of properties to be used to
    initialize this cookie.
    @discussion Supported dictionary keys and value types for the
    given dictionary are as follows.

    All properties can handle an NSString value, but some can also
    handle other types.

    <table border="1" cellspacing="2" cellpadding="4">
    <tr>
        <th>Property key constant</th>
        <th>Type of value</th>
        <th>Required</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>NSHTTPCookieComment</td>
        <td>NSString</td>
        <td>NO</td>
        <td>Comment for the cookie. Only valid for version 1 cookies and
        later. Default is nil.</td>
    </tr>
    <tr>
        <td>NSHTTPCookieCommentURL</td>
        <td>NSURL or NSString</td>
        <td>NO</td>
        <td>Comment URL for the cookie. Only valid for version 1 cookies
        and later. Default is nil.</td>
    </tr>
    <tr>
        <td>NSHTTPCookieDomain</td>
        <td>NSString</td>
        <td>Special, a value for either NSHTTPCookieOriginURL or
        NSHTTPCookieDomain must be specified.</td>
        <td>Domain for the cookie. Inferred from the value for
        NSHTTPCookieOriginURL if not provided.</td>
    </tr>
    <tr>
        <td>NSHTTPCookieDiscard</td>
        <td>NSString</td>
        <td>NO</td>
        <td>A string stating whether the cookie should be discarded at
        the end of the session. String value must be either "TRUE" or
        "FALSE". Default is "FALSE", unless this is cookie is version
        1 or greater and a value for NSHTTPCookieMaximumAge is not
        specified, in which case it is assumed "TRUE".</td>
    </tr>
    <tr>
        <td>NSHTTPCookieExpires</td>
        <td>NSDate or NSString</td>
        <td>NO</td>
        <td>Expiration date for the cookie. Used only for version 0
        cookies. Ignored for version 1 or greater.</td>
    </tr>
    <tr>
        <td>NSHTTPCookieMaximumAge</td>
        <td>NSString</td>
        <td>NO</td>
        <td>A string containing an integer value stating how long in
        seconds the cookie should be kept, at most. Only valid for
        version 1 cookies and later. Default is "0".</td>
    </tr>
    <tr>
        <td>NSHTTPCookieName</td>
        <td>NSString</td>
        <td>YES</td>
        <td>Name of the cookie</td>
    </tr>
    <tr>
        <td>NSHTTPCookieOriginURL</td>
        <td>NSURL or NSString</td>
        <td>Special, a value for either NSHTTPCookieOriginURL or
        NSHTTPCookieDomain must be specified.</td>
        <td>URL that set this cookie. Used as default for other fields
        as noted.</td>
    </tr>
    <tr>
        <td>NSHTTPCookiePath</td>
        <td>NSString</td>
        <td>NO</td>
        <td>Path for the cookie. Inferred from the value for
        NSHTTPCookieOriginURL if not provided. Default is "/".</td>
    </tr>
    <tr>
        <td>NSHTTPCookiePort</td>
        <td>NSString</td>
        <td>NO</td>
        <td>comma-separated integer values specifying the ports for the
        cookie. Only valid for version 1 cookies and later. Default is
        empty string ("").</td>
    </tr>
    <tr>
        <td>NSHTTPCookieSecure</td>
        <td>NSString</td>
        <td>NO</td>
        <td>A string stating whether the cookie should be transmitted
        only over secure channels. String value must be either "TRUE"
        or "FALSE". Default is "FALSE".</td>
    </tr>
    <tr>
        <td>NSHTTPCookieValue</td>
        <td>NSString</td>
        <td>YES</td>
        <td>Value of the cookie</td>
    </tr>
    <tr>
        <td>NSHTTPCookieVersion</td>
        <td>NSString</td>
        <td>NO</td>
        <td>Specifies the version of the cookie. Must be either "0" or
        "1". Default is "0".</td>
    </tr>
    </table>
    <p>
    All other keys are ignored.

  </body>
</html>
